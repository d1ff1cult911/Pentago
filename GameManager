using TMPro;
using UnityEngine;

public class GameManager : MonoBehaviour
{
    [Header("UI")]
    public Canvas winCanvas;
    public TMP_Text winText;
    public static GameManager Instance;
    public int blocksPerSide = 3;
    public int blockSize = 3;
    public bool PlayWithAi = false;
    public BoardManagerMono boardManager;
    public int playerCount = 3;
    public int winlength = 3;
    void Awake()
    {
        if (Instance == null) Instance = this;
        else Destroy(gameObject);
        winCanvas.enabled = false;
    }


    void Start()
    {
        boardManager = gameObject.AddComponent<BoardManagerMono>();
        boardManager.playWithAI = playerCount==2&&PlayWithAi?true:false;
        boardManager.blocksPerSide = blocksPerSide;
        boardManager.blockSize = blockSize;
        boardManager.playerCount = playerCount;
        boardManager.winLength = winlength;
    }
    public void ShowWin(CellState winner)
    {
        winCanvas.enabled = true;
        winText.text = $"Игрок {winner} победил!";
    }
}
